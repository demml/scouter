{
  "tasks": [
    {
      "task_type": "Assertion",
      "id": "check_user_age",
      "field_path": "user.age",
      "operator": "GreaterThan",
      "expected_value": 18,
      "description": "Verify user is an adult",
      "depends_on": [],
      "condition": false
    },
    {
      "task_type": "Assertion",
      "id": "validate_email",
      "field_path": "user.email",
      "operator": "IsEmail",
      "expected_value": true,
      "description": "Validate email format",
      "depends_on": [],
      "condition": false
    },
    {
      "task_type": "Assertion",
      "id": "check_password_strength",
      "field_path": "user.password",
      "operator": "HasLengthGreaterThanOrEqual",
      "expected_value": 8,
      "description": "Password must be at least 8 characters",
      "depends_on": ["validate_email"],
      "condition": false
    },
    {
      "task_type": "LLMJudge",
      "id": "sentiment_judge",
      "field_path": "response.text",
      "operator": "Equals",
      "expected_value": "Positive",
      "description": "Judge sentiment using LLM",
      "depends_on": [],
      "max_retries": 3,
      "condition": false,
      "prompt": {
        "path": "./prompts/sentiment_judge.json"
      }
    },
    {
      "task_type": "TraceAssertion",
      "id": "verify_agent_workflow",
      "operator": "SequenceMatches",
      "expected_value": true,
      "description": "Verify agent workflow execution order",
      "depends_on": [],
      "condition": false,
      "assertion": {
        "SpanSequence": {
          "span_names": [
            "call_tool",
            "run_agent",
            "double_check"
          ]
        }
      }
    },
    {
      "task_type": "TraceAssertion",
      "id": "verify_performance",
      "operator": "LessThan",
      "expected_value": 5000.0,
      "description": "Ensure trace completes within 5 seconds",
      "depends_on": [],
      "condition": false,
      "assertion": {
        "TraceDuration": {}
      }
    },
    {
      "task_type": "TraceAssertion",
      "id": "verify_model_used",
      "operator": "Equals",
      "expected_value": "gpt-4",
      "description": "Verify correct model was used",
      "depends_on": ["verify_agent_workflow"],
      "condition": false,
      "assertion": {
        "SpanAttribute": {
          "filter": {
            "ByName": {
              "name": "llm.generate"
            }
          },
          "attribute_key": "model"
        }
      }
    }
  ]
}
